# Decisions / 意思決定ログ

本ドキュメントは「なぜその設計にしたか」を残すためのログ。
後から仕様を見直す際の根拠・背景・トレードオフを記録する。

---

## 記録ルール
- 1つの意思決定につき1ブロック
- 可能なら「代替案」「採用理由」「影響範囲」を書く
- 日付は YYYY-MM-DD で記録する
- 短くてよい（長文化しない）

---

## テンプレ
### [YYYY-MM-DD] タイトル
- 背景：
- 決定：
- 代替案：
- 採用理由：
- 影響範囲（docs/data/src）：
- ToDo：

---

## ログ

### [2025-12-25] 仕様・データ・実行の三分割を採用
- 背景：設計が増えると「文章」「数値」「実装」が混線しやすい
- 決定：docs=文章、data=定義、src=実行の三層で管理する
- 代替案：全てコード側にハードコード、または全てスプレッドシート管理
- 採用理由：調整速度と再現性の両立。ChatGPT/Codex連携に向く
- 影響範囲（docs/data/src）：全体
- ToDo：雛形YAML（areas/tiles/routes/rulesets/cards）を作る

### [2025-12-25] 効果をEffectに統一し、EventQueueで順序解決する
- 背景：マス効果・カード効果・世界イベントが連鎖すると処理順が壊れる
- 決定：EffectはGameEventを発行し、EngineがQueueで順次解決する
- 代替案：Effectが直接stateを書き換える
- 採用理由：テスト容易性と拡張性（例外ルール耐性）
- 影響範囲（docs/data/src）：src中心、docsにも反映
- ToDo：最小Engineでログが追える状態にする
